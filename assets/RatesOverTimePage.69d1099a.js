import{u as Ra,a as Ya,b as Yt,c as ma,d as ha,Q as Ha,e as Ea,f as Ia,g as Aa,h as Ba,i as ja,j as La,k as Na,l as za,m as Qa,n as Ua,o as Za,p as Ka,q as Wa,r as Nt,s as Ja,t as Xa,C as Ga,v as en,L as tn,B as an,w as nn,x as ln,y as rn,A as on,P as un,z as sn,D as cn,E as dn,F as fn,_ as vn,G as mn,H as hn,I as gn,N as yn,J as bn}from"./NoDataPlaceholder.a03a10a0.js";import{c as Ce,h as lt,a as wn,Q as ze,e as Ht,u as ga,g as ya,v as Sn,b as Mn}from"./use-router-link.7a3728b2.js";import{h as m,g as qe,c as g,r as K,w as le,a3 as ba,o as Et,a4 as _n,$ as kn,m as It,q as zt,a5 as Le,D as Qt,Z as Ut,a6 as Ot,a7 as yt,a8 as wa,p as xe,a9 as Dn,aa as Ie,ab as Sa,ac as xn,X as et,Y as Cn,ad as qn,A as Zt,d as Ma,K as nt,U as Vt,f as ge,M as ke,a2 as bt,ae as wt,E as Kt,L as Wt}from"./index.5dec1e70.js";import{a as Qe,d as Ue,j as $n,p as ae,q as pn}from"./QItem.c0ba6dce.js";import{Q as Tn}from"./QList.7afa29e4.js";import{Q as be}from"./QBtn.6d66d9e1.js";import"./currency-types.store.03f8ecd3.js";import"./axios.ce13ef04.js";var On=Ce({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:n}){const l=qe(),{proxy:{$q:r}}=l,o=c=>{n("click",c)};return()=>{if(e.props===void 0)return m("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:o},lt(t.default));let c,u;const f=l.vnode.key;if(f){if(c=e.props.colsMap[f],c===void 0)return}else c=e.props.col;if(c.sortable===!0){const s=c.align==="right"?"unshift":"push";u=wn(t.default,[]),u[s](m(ze,{class:c.__iconClass,name:r.iconSet.table.arrowUp}))}else u=lt(t.default);const _={class:c.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:c.headerStyle,onClick:s=>{c.sortable===!0&&e.props.sort(c),o(s)}};return m("th",_,u)}}});const Vn={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Ct={xs:2,sm:4,md:8,lg:16,xl:24};var Pn=Ce({name:"QSeparator",props:{...Qe,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=qe(),n=Ue(e,t.proxy.$q),l=g(()=>e.vertical===!0?"vertical":"horizontal"),r=g(()=>` q-separator--${l.value}`),o=g(()=>e.inset!==!1?`${r.value}-${Vn[e.inset]}`:""),c=g(()=>`q-separator${r.value}${o.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),u=g(()=>{const f={};if(e.size!==void 0&&(f[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const _=e.spaced===!0?`${Ct.md}px`:e.spaced in Ct?`${Ct[e.spaced]}px`:e.spaced,s=e.vertical===!0?["Left","Right"]:["Top","Bottom"];f[`margin${s[0]}`]=f[`margin${s[1]}`]=_}return f});return()=>m("hr",{class:c.value,style:u.value,"aria-orientation":l.value})}});const Fn=["horizontal","vertical","cell","none"];var Rn=Ce({name:"QMarkupTable",props:{...Qe,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Fn.includes(e)}},setup(e,{slots:t}){const n=qe(),l=Ue(e,n.proxy.$q),r=g(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(l.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>m("div",{class:r.value},[m("table",{class:"q-table"},lt(t.default))])}});function _a(e,t){return m("div",e,[m("table",{class:"q-table"},t)])}const Yn={list:Tn,table:Rn},Hn=["list","table","__qtable"];var En=Ce({name:"QVirtualScroll",props:{...Ra,type:{type:String,default:"list",validator:e=>Hn.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:t,attrs:n}){let l;const r=K(null),o=g(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:c,localResetVirtualScroll:u,padVirtualScroll:f,onVirtualScrollEvt:_}=Ya({virtualScrollLength:o,getVirtualScrollTarget:p,getVirtualScrollEl:D}),s=g(()=>{if(o.value===0)return[];const W=(J,V)=>({index:c.value.from+V,item:J});return e.itemsFn===void 0?e.items.slice(c.value.from,c.value.to).map(W):e.itemsFn(c.value.from,c.value.to-c.value.from).map(W)}),v=g(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),Y=g(()=>e.scrollTarget!==void 0?{}:{tabindex:0});le(o,()=>{u()}),le(()=>e.scrollTarget,()=>{R(),T()});function D(){return r.value.$el||r.value}function p(){return l}function T(){l=$n(D(),e.scrollTarget),l.addEventListener("scroll",_,zt.passive)}function R(){l!==void 0&&(l.removeEventListener("scroll",_,zt.passive),l=void 0)}function se(){let W=f(e.type==="list"?"div":"tbody",s.value.map(t.default));return t.before!==void 0&&(W=t.before().concat(W)),Ht(t.after,W)}return ba(()=>{u()}),Et(()=>{T()}),_n(()=>{T()}),kn(()=>{R()}),It(()=>{R()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?_a({ref:r,class:"q-table__middle "+v.value},se()):m(Yn[e.type],{...n,ref:r,class:[n.class,v.value],...Y.value},se)}}});const In={xs:2,sm:4,md:6,lg:10,xl:14};function Jt(e,t,n){return{transform:t===!0?`translateX(${n.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var An=Ce({name:"QLinearProgress",props:{...Qe,...ga,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:n}=qe(),l=Ue(e,n.$q),r=ya(e,In),o=g(()=>e.indeterminate===!0||e.query===!0),c=g(()=>e.reverse!==e.query),u=g(()=>({...r.value!==null?r.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),f=g(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),_=g(()=>Jt(e.buffer!==void 0?e.buffer:1,c.value,n.$q)),s=g(()=>`with${e.instantFeedback===!0?"out":""}-transition`),v=g(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${s.value} q-linear-progress__track--${l.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),Y=g(()=>Jt(o.value===!0?1:e.value,c.value,n.$q)),D=g(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${s.value} q-linear-progress__model--${o.value===!0?"in":""}determinate`),p=g(()=>({width:`${e.value*100}%`})),T=g(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${s.value}`);return()=>{const R=[m("div",{class:v.value,style:_.value}),m("div",{class:D.value,style:Y.value})];return e.stripe===!0&&o.value===!1&&R.push(m("div",{class:T.value,style:p.value})),m("div",{class:f.value,style:u.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Ht(t.default,R))}}});function Bn(e,t){const n=K(null),l=g(()=>e.disable===!0?null:m("span",{ref:n,class:"no-outline",tabindex:-1}));function r(o){const c=t.value;o!==void 0&&o.type.indexOf("key")===0?c!==null&&document.activeElement!==c&&c.contains(document.activeElement)===!0&&c.focus():n.value!==null&&(o===void 0||c!==null&&c.contains(o.target)===!0)&&n.value.focus()}return{refocusTargetEl:l,refocusTarget:r}}var jn={xs:30,sm:35,md:40,lg:50,xl:60};const Ln={...Qe,...ga,...Yt,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Nn=["update:modelValue"];function zn(e,t){const{props:n,slots:l,emit:r,proxy:o}=qe(),{$q:c}=o,u=Ue(n,c),f=K(null),{refocusTargetEl:_,refocusTarget:s}=Bn(n,f),v=ya(n,jn),Y=g(()=>n.val!==void 0&&Array.isArray(n.modelValue)),D=g(()=>{const y=Le(n.val);return Y.value===!0?n.modelValue.findIndex(B=>Le(B)===y):-1}),p=g(()=>Y.value===!0?D.value>-1:Le(n.modelValue)===Le(n.trueValue)),T=g(()=>Y.value===!0?D.value===-1:Le(n.modelValue)===Le(n.falseValue)),R=g(()=>p.value===!1&&T.value===!1),se=g(()=>n.disable===!0?-1:n.tabindex||0),W=g(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(u.value===!0?` q-${e}--dark`:"")+(n.dense===!0?` q-${e}--dense`:"")+(n.leftLabel===!0?" reverse":"")),J=g(()=>{const y=p.value===!0?"truthy":T.value===!0?"falsy":"indet",B=n.color!==void 0&&(n.keepColor===!0||(e==="toggle"?p.value===!0:T.value!==!0))?` text-${n.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${y}${B}`}),V=g(()=>{const y={type:"checkbox"};return n.name!==void 0&&Object.assign(y,{".checked":p.value,"^checked":p.value===!0?"checked":void 0,name:n.name,value:Y.value===!0?n.val:n.trueValue}),y}),N=ma(V),ne=g(()=>{const y={tabindex:se.value,role:e==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":R.value===!0?"mixed":p.value===!0?"true":"false"};return n.disable===!0&&(y["aria-disabled"]="true"),y});function re(y){y!==void 0&&(Qt(y),s(y)),n.disable!==!0&&r("update:modelValue",he(),y)}function he(){if(Y.value===!0){if(p.value===!0){const y=n.modelValue.slice();return y.splice(D.value,1),y}return n.modelValue.concat([n.val])}if(p.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(T.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function q(y){(y.keyCode===13||y.keyCode===32)&&Qt(y)}function w(y){(y.keyCode===13||y.keyCode===32)&&re(y)}const M=t(p,R);return Object.assign(o,{toggle:re}),()=>{const y=M();n.disable!==!0&&N(y,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const B=[m("div",{class:J.value,style:v.value,"aria-hidden":"true"},y)];_.value!==null&&B.push(_.value);const C=n.label!==void 0?Ht(l.default,[n.label]):lt(l.default);return C!==void 0&&B.push(m("div",{class:`q-${e}__label q-anchor--skip`},C)),m("div",{ref:f,class:W.value,...ne.value,onClick:re,onKeydown:q,onKeyup:w},B)}}const Qn=m("div",{key:"svg",class:"q-checkbox__bg absolute"},[m("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[m("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),m("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var qt=Ce({name:"QCheckbox",props:Ln,emits:Nn,setup(e){function t(n,l){const r=g(()=>(n.value===!0?e.checkedIcon:l.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>r.value!==null?[m("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[m(ze,{class:"q-checkbox__icon",name:r.value})])]:[Qn]}return zn("checkbox",t)}});let tt=0;const Un={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Zn=["update:fullscreen","fullscreen"];function Kn(){const e=qe(),{props:t,emit:n,proxy:l}=e;let r,o,c;const u=K(!1);Sn(e)===!0&&le(()=>l.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&s()}),le(()=>t.fullscreen,v=>{u.value!==v&&f()}),le(u,v=>{n("update:fullscreen",v),n("fullscreen",v)});function f(){u.value===!0?s():_()}function _(){u.value!==!0&&(u.value=!0,c=l.$el.parentNode,c.replaceChild(o,l.$el),document.body.appendChild(l.$el),tt++,tt===1&&document.body.classList.add("q-body--fullscreen-mixin"),r={handler:s},Ut.add(r))}function s(){u.value===!0&&(r!==void 0&&(Ut.remove(r),r=void 0),c.replaceChild(l.$el,o),u.value=!1,tt=Math.max(0,tt-1),tt===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),l.$el.scrollIntoView!==void 0&&setTimeout(()=>{l.$el.scrollIntoView()})))}return ba(()=>{o=document.createElement("span")}),Et(()=>{t.fullscreen===!0&&_()}),It(s),Object.assign(l,{toggleFullscreen:f,setFullscreen:_,exitFullscreen:s}),{inFullscreen:u,toggleFullscreen:f}}function Wn(e,t){return new Date(e)-new Date(t)}const Jn={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Xn(e,t,n,l){const r=g(()=>{const{sortBy:u}=t.value;return u&&n.value.find(f=>f.name===u)||null}),o=g(()=>e.sortMethod!==void 0?e.sortMethod:(u,f,_)=>{const s=n.value.find(D=>D.name===f);if(s===void 0||s.field===void 0)return u;const v=_===!0?-1:1,Y=typeof s.field=="function"?D=>s.field(D):D=>D[s.field];return u.sort((D,p)=>{let T=Y(D),R=Y(p);return T==null?-1*v:R==null?1*v:s.sort!==void 0?s.sort(T,R,D,p)*v:Ot(T)===!0&&Ot(R)===!0?(T-R)*v:yt(T)===!0&&yt(R)===!0?Wn(T,R)*v:typeof T=="boolean"&&typeof R=="boolean"?(T-R)*v:([T,R]=[T,R].map(se=>(se+"").toLocaleString().toLowerCase()),T<R?-1*v:T===R?0:v)})});function c(u){let f=e.columnSortOrder;if(wa(u)===!0)u.sortOrder&&(f=u.sortOrder),u=u.name;else{const v=n.value.find(Y=>Y.name===u);v!==void 0&&v.sortOrder&&(f=v.sortOrder)}let{sortBy:_,descending:s}=t.value;_!==u?(_=u,s=f==="da"):e.binaryStateSort===!0?s=!s:s===!0?f==="ad"?_=null:s=!1:f==="ad"?s=!0:_=null,l({sortBy:_,descending:s,page:1})}return{columnToSort:r,computedSortMethod:o,sort:c}}const Gn={filter:[String,Object],filterMethod:Function};function el(e,t){const n=g(()=>e.filterMethod!==void 0?e.filterMethod:(l,r,o,c)=>{const u=r?r.toLowerCase():"";return l.filter(f=>o.some(_=>{const s=c(_,f)+"";return(s==="undefined"||s==="null"?"":s.toLowerCase()).indexOf(u)!==-1}))});return le(()=>e.filter,()=>{xe(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function tl(e,t){for(const n in t)if(t[n]!==e[n])return!1;return!0}function Xt(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const al={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function nl(e,t){const{props:n,emit:l}=e,r=K(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length!==0?n.rowsPerPageOptions[0]:5},n.pagination)),o=g(()=>{const s=n["onUpdate:pagination"]!==void 0?{...r.value,...n.pagination}:r.value;return Xt(s)}),c=g(()=>o.value.rowsNumber!==void 0);function u(s){f({pagination:s,filter:n.filter})}function f(s={}){xe(()=>{l("request",{pagination:s.pagination||o.value,filter:s.filter||n.filter,getCellValue:t})})}function _(s,v){const Y=Xt({...o.value,...s});if(tl(o.value,Y)===!0){c.value===!0&&v===!0&&u(Y);return}if(c.value===!0){u(Y);return}n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?l("update:pagination",Y):r.value=Y}return{innerPagination:r,computedPagination:o,isServerSide:c,requestServerInteraction:f,setPagination:_}}function ll(e,t,n,l,r,o){const{props:c,emit:u,proxy:{$q:f}}=e,_=g(()=>l.value===!0?n.value.rowsNumber||0:o.value),s=g(()=>{const{page:V,rowsPerPage:N}=n.value;return(V-1)*N}),v=g(()=>{const{page:V,rowsPerPage:N}=n.value;return V*N}),Y=g(()=>n.value.page===1),D=g(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(_.value/n.value.rowsPerPage))),p=g(()=>v.value===0?!0:n.value.page>=D.value),T=g(()=>(c.rowsPerPageOptions.includes(t.value.rowsPerPage)?c.rowsPerPageOptions:[t.value.rowsPerPage].concat(c.rowsPerPageOptions)).map(N=>({label:N===0?f.lang.table.allRows:""+N,value:N})));le(D,(V,N)=>{if(V===N)return;const ne=n.value.page;V&&!ne?r({page:1}):V<ne&&r({page:V})});function R(){r({page:1})}function se(){const{page:V}=n.value;V>1&&r({page:V-1})}function W(){const{page:V,rowsPerPage:N}=n.value;v.value>0&&V*N<_.value&&r({page:V+1})}function J(){r({page:D.value})}return c["onUpdate:pagination"]!==void 0&&u("update:pagination",{...n.value}),{firstRowIndex:s,lastRowIndex:v,isFirstPage:Y,isLastPage:p,pagesNumber:D,computedRowsPerPageOptions:T,computedRowsNumber:_,firstPage:R,prevPage:se,nextPage:W,lastPage:J}}const rl={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},ol=["update:selected","selection"];function il(e,t,n,l){const r=g(()=>{const p={};return e.selected.map(l.value).forEach(T=>{p[T]=!0}),p}),o=g(()=>e.selection!=="none"),c=g(()=>e.selection==="single"),u=g(()=>e.selection==="multiple"),f=g(()=>n.value.length!==0&&n.value.every(p=>r.value[l.value(p)]===!0)),_=g(()=>f.value!==!0&&n.value.some(p=>r.value[l.value(p)]===!0)),s=g(()=>e.selected.length);function v(p){return r.value[p]===!0}function Y(){t("update:selected",[])}function D(p,T,R,se){t("selection",{rows:T,added:R,keys:p,evt:se});const W=c.value===!0?R===!0?T:[]:R===!0?e.selected.concat(T):e.selected.filter(J=>p.includes(l.value(J))===!1);t("update:selected",W)}return{hasSelectionMode:o,singleSelection:c,multipleSelection:u,allRowsSelected:f,someRowsSelected:_,rowsSelectedNumber:s,isRowSelected:v,clearSelection:Y,updateSelection:D}}function Gt(e){return Array.isArray(e)?e.slice():[]}const ul={expanded:Array},sl=["update:expanded"];function cl(e,t){const n=K(Gt(e.expanded));le(()=>e.expanded,c=>{n.value=Gt(c)});function l(c){return n.value.includes(c)}function r(c){e.expanded!==void 0?t("update:expanded",c):n.value=c}function o(c,u){const f=n.value.slice(),_=f.indexOf(c);u===!0?_===-1&&(f.push(c),r(f)):_!==-1&&(f.splice(_,1),r(f))}return{isRowExpanded:l,setExpanded:r,updateExpanded:o}}const dl={visibleColumns:Array};function fl(e,t,n){const l=g(()=>{if(e.columns!==void 0)return e.columns;const u=e.rows[0];return u!==void 0?Object.keys(u).map(f=>({name:f,label:f.toUpperCase(),field:f,align:Ot(u[f])?"right":"left",sortable:!0})):[]}),r=g(()=>{const{sortBy:u,descending:f}=t.value;return(e.visibleColumns!==void 0?l.value.filter(s=>s.required===!0||e.visibleColumns.includes(s.name)===!0):l.value).map(s=>{const v=s.align||"right",Y=`text-${v}`;return{...s,align:v,__iconClass:`q-table__sort-icon q-table__sort-icon--${v}`,__thClass:Y+(s.headerClasses!==void 0?" "+s.headerClasses:"")+(s.sortable===!0?" sortable":"")+(s.name===u?` sorted ${f===!0?"sort-desc":""}`:""),__tdStyle:s.style!==void 0?typeof s.style!="function"?()=>s.style:s.style:()=>null,__tdClass:s.classes!==void 0?typeof s.classes!="function"?()=>Y+" "+s.classes:D=>Y+" "+s.classes(D):()=>Y}})}),o=g(()=>{const u={};return r.value.forEach(f=>{u[f.name]=f}),u}),c=g(()=>e.tableColspan!==void 0?e.tableColspan:r.value.length+(n.value===!0?1:0));return{colList:l,computedCols:r,computedColsMap:o,computedColspan:c}}const mt="q-table__bottom row items-center",ka={};ha.forEach(e=>{ka[e]={}});var vl=Ce({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...ka,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Qe,...Un,...dl,...Gn,...al,...ul,...rl,...Jn},emits:["request","virtualScroll",...Zn,...sl,...ol],setup(e,{slots:t,emit:n}){const l=qe(),{proxy:{$q:r}}=l,o=Ue(e,r),{inFullscreen:c,toggleFullscreen:u}=Kn(),f=g(()=>typeof e.rowKey=="function"?e.rowKey:h=>h[e.rowKey]),_=K(null),s=K(null),v=g(()=>e.grid!==!0&&e.virtualScroll===!0),Y=g(()=>" q-table__card"+(o.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),D=g(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":Y.value)+(o.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(c.value===!0?" fullscreen scroll":"")),p=g(()=>D.value+(e.loading===!0?" q-table--loading":""));le(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+D.value,()=>{v.value===!0&&s.value!==null&&s.value.reset()});const{innerPagination:T,computedPagination:R,isServerSide:se,requestServerInteraction:W,setPagination:J}=nl(l,pe),{computedFilterMethod:V}=el(e,J),{isRowExpanded:N,setExpanded:ne,updateExpanded:re}=cl(e,n),he=g(()=>{let h=e.rows;if(se.value===!0||h.length===0)return h;const{sortBy:H,descending:j}=R.value;return e.filter&&(h=V.value(h,e.filter,E.value,pe)),G.value!==null&&(h=ee.value(e.rows===h?h.slice():h,H,j)),h}),q=g(()=>he.value.length),w=g(()=>{let h=he.value;if(se.value===!0)return h;const{rowsPerPage:H}=R.value;return H!==0&&(ce.value===0&&e.rows!==h?h.length>Me.value&&(h=h.slice(0,Me.value)):h=h.slice(ce.value,Me.value)),h}),{hasSelectionMode:M,singleSelection:y,multipleSelection:B,allRowsSelected:C,someRowsSelected:x,rowsSelectedNumber:b,isRowSelected:k,clearSelection:$,updateSelection:I}=il(e,n,w,f),{colList:P,computedCols:E,computedColsMap:S,computedColspan:L}=fl(e,R,M),{columnToSort:G,computedSortMethod:ee,sort:X}=Xn(e,R,P,J),{firstRowIndex:ce,lastRowIndex:Me,isFirstPage:fe,isLastPage:ve,pagesNumber:te,computedRowsPerPageOptions:de,computedRowsNumber:we,firstPage:Ve,prevPage:Ae,nextPage:$e,lastPage:ye}=ll(l,T,R,se,J,q),Mt=g(()=>w.value.length===0),_t=g(()=>{const h={};return ha.forEach(H=>{h[H]=e[H]}),h.virtualScrollItemSize===void 0&&(h.virtualScrollItemSize=e.dense===!0?28:48),h});function kt(){v.value===!0&&s.value.reset()}function rt(){if(e.grid===!0)return Xe();const h=e.hideHeader!==!0?ft:null;if(v.value===!0){const j=t["top-row"],z=t["bottom-row"],U={default:ue=>ut(ue.item,t.body,ue.index)};if(j!==void 0){const ue=m("tbody",j({cols:E.value}));U.before=h===null?()=>ue:()=>[h()].concat(ue)}else h!==null&&(U.before=h);return z!==void 0&&(U.after=()=>m("tbody",z({cols:E.value}))),m(En,{ref:s,class:e.tableClass,style:e.tableStyle,..._t.value,scrollTarget:e.virtualScrollTarget,items:w.value,type:"__qtable",tableColspan:L.value,onVirtualScroll:ot},U)}const H=[Ze()];return h!==null&&H.unshift(h()),_a({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},H)}function Dt(h,H){if(s.value!==null){s.value.scrollTo(h,H);return}h=parseInt(h,10);const j=_.value.querySelector(`tbody tr:nth-of-type(${h+1})`);if(j!==null){const z=_.value.querySelector(".q-table__middle.scroll"),U=j.offsetTop-e.virtualScrollStickySizeStart,ue=U<z.scrollTop?"decrease":"increase";z.scrollTop=U,n("virtualScroll",{index:h,from:0,to:T.value.rowsPerPage-1,direction:ue})}}function ot(h){n("virtualScroll",h)}function it(){return[m(An,{class:"q-table__linear-progress",color:e.color,dark:o.value,indeterminate:!0,trackColor:"transparent"})]}function ut(h,H,j){const z=f.value(h),U=k(z);if(H!==void 0)return H(st({key:z,row:h,pageIndex:j,__trClass:U?"selected":""}));const ue=t["body-cell"],a=E.value.map(d=>{const F=t[`body-cell-${d.name}`],O=F!==void 0?F:ue;return O!==void 0?O(ct({key:z,row:h,pageIndex:j,col:d})):m("td",{class:d.__tdClass(h),style:d.__tdStyle(h)},pe(d,h))});if(M.value===!0){const d=t["body-selection"],F=d!==void 0?d(Ke({key:z,row:h,pageIndex:j})):[m(qt,{modelValue:U,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(O,Z)=>{I([z],[h],O,Z)}})];a.unshift(m("td",{class:"q-table--col-auto-width"},F))}const i={key:z,class:{selected:U}};return e.onRowClick!==void 0&&(i.class["cursor-pointer"]=!0,i.onClick=d=>{n("RowClick",d,h,j)}),e.onRowDblclick!==void 0&&(i.class["cursor-pointer"]=!0,i.onDblclick=d=>{n("RowDblclick",d,h,j)}),e.onRowContextmenu!==void 0&&(i.class["cursor-pointer"]=!0,i.onContextmenu=d=>{n("RowContextmenu",d,h,j)}),m("tr",i,a)}function Ze(){const h=t.body,H=t["top-row"],j=t["bottom-row"];let z=w.value.map((U,ue)=>ut(U,h,ue));return H!==void 0&&(z=H({cols:E.value}).concat(z)),j!==void 0&&(z=z.concat(j({cols:E.value}))),m("tbody",z)}function st(h){return Be(h),h.cols=h.cols.map(H=>Ie({...H},"value",()=>pe(H,h.row))),h}function ct(h){return Be(h),Ie(h,"value",()=>pe(h.col,h.row)),h}function Ke(h){return Be(h),h}function Be(h){Object.assign(h,{cols:E.value,colsMap:S.value,sort:X,rowIndex:ce.value+h.pageIndex,color:e.color,dark:o.value,dense:e.dense}),M.value===!0&&Ie(h,"selected",()=>k(h.key),(H,j)=>{I([h.key],[h.row],H,j)}),Ie(h,"expand",()=>N(h.key),H=>{re(h.key,H)})}function pe(h,H){const j=typeof h.field=="function"?h.field(H):H[h.field];return h.format!==void 0?h.format(j,H):j}const Te=g(()=>({pagination:R.value,pagesNumber:te.value,isFirstPage:fe.value,isLastPage:ve.value,firstPage:Ve,prevPage:Ae,nextPage:$e,lastPage:ye,inFullscreen:c.value,toggleFullscreen:u}));function We(){const h=t.top,H=t["top-left"],j=t["top-right"],z=t["top-selection"],U=M.value===!0&&z!==void 0&&b.value>0,ue="q-table__top relative-position row items-center";if(h!==void 0)return m("div",{class:ue},[h(Te.value)]);let a;if(U===!0?a=z(Te.value).slice():(a=[],H!==void 0?a.push(m("div",{class:"q-table__control"},[H(Te.value)])):e.title&&a.push(m("div",{class:"q-table__control"},[m("div",{class:["q-table__title",e.titleClass]},e.title)]))),j!==void 0&&(a.push(m("div",{class:"q-table__separator col"})),a.push(m("div",{class:"q-table__control"},[j(Te.value)]))),a.length!==0)return m("div",{class:ue},a)}const dt=g(()=>x.value===!0?null:C.value);function ft(){const h=xt();return e.loading===!0&&t.loading===void 0&&h.push(m("tr",{class:"q-table__progress"},[m("th",{class:"relative-position",colspan:L.value},it())])),m("thead",h)}function xt(){const h=t.header,H=t["header-cell"];if(h!==void 0)return h(_e({header:!0})).slice();const j=E.value.map(z=>{const U=t[`header-cell-${z.name}`],ue=U!==void 0?U:H,a=_e({col:z});return ue!==void 0?ue(a):m(On,{key:z.name,props:a},()=>z.label)});if(y.value===!0&&e.grid!==!0)j.unshift(m("th",{class:"q-table--col-auto-width"}," "));else if(B.value===!0){const z=t["header-selection"],U=z!==void 0?z(_e({})):[m(qt,{color:e.color,modelValue:dt.value,dark:o.value,dense:e.dense,"onUpdate:modelValue":Oe})];j.unshift(m("th",{class:"q-table--col-auto-width"},U))}return[m("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},j)]}function _e(h){return Object.assign(h,{cols:E.value,sort:X,colsMap:S.value,color:e.color,dark:o.value,dense:e.dense}),B.value===!0&&Ie(h,"selected",()=>dt.value,Oe),h}function Oe(h){x.value===!0&&(h=!1),I(w.value.map(f.value),w.value,h)}const He=g(()=>{const h=[e.iconFirstPage||r.iconSet.table.firstPage,e.iconPrevPage||r.iconSet.table.prevPage,e.iconNextPage||r.iconSet.table.nextPage,e.iconLastPage||r.iconSet.table.lastPage];return r.lang.rtl===!0?h.reverse():h});function je(){if(e.hideBottom===!0)return;if(Mt.value===!0){if(e.hideNoData===!0)return;const j=e.loading===!0?e.loadingLabel||r.lang.table.loading:e.filter?e.noResultsLabel||r.lang.table.noResults:e.noDataLabel||r.lang.table.noData,z=t["no-data"],U=z!==void 0?[z({message:j,icon:r.iconSet.table.warning,filter:e.filter})]:[m(ze,{class:"q-table__bottom-nodata-icon",name:r.iconSet.table.warning}),j];return m("div",{class:mt+" q-table__bottom--nodata"},U)}const h=t.bottom;if(h!==void 0)return m("div",{class:mt},[h(Te.value)]);const H=e.hideSelectedBanner!==!0&&M.value===!0&&b.value>0?[m("div",{class:"q-table__control"},[m("div",[(e.selectedRowsLabel||r.lang.table.selectedRecords)(b.value)])])]:[];if(e.hidePagination!==!0)return m("div",{class:mt+" justify-end"},Pe(H));if(H.length!==0)return m("div",{class:mt},H)}function vt(h){J({page:1,rowsPerPage:h.value})}function Pe(h){let H;const{rowsPerPage:j}=R.value,z=e.paginationLabel||r.lang.table.pagination,U=t.pagination,ue=e.rowsPerPageOptions.length>1;if(h.push(m("div",{class:"q-table__separator col"})),ue===!0&&h.push(m("div",{class:"q-table__control"},[m("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||r.lang.table.recordsPerPage]),m(Ha,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:j,options:de.value,displayValue:j===0?r.lang.table.allRows:j,dark:o.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":vt})])),U!==void 0)H=U(Te.value);else if(H=[m("span",j!==0?{class:"q-table__bottom-item"}:{},[j?z(ce.value+1,Math.min(Me.value,we.value),we.value):z(1,q.value,we.value)])],j!==0&&te.value>1){const a={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(a.size="sm"),te.value>2&&H.push(m(be,{key:"pgFirst",...a,icon:He.value[0],disable:fe.value,onClick:Ve})),H.push(m(be,{key:"pgPrev",...a,icon:He.value[1],disable:fe.value,onClick:Ae}),m(be,{key:"pgNext",...a,icon:He.value[2],disable:ve.value,onClick:$e})),te.value>2&&H.push(m(be,{key:"pgLast",...a,icon:He.value[3],disable:ve.value,onClick:ye}))}return h.push(m("div",{class:"q-table__control"},H)),h}function Je(){const h=e.gridHeader===!0?[m("table",{class:"q-table"},[ft()])]:e.loading===!0&&t.loading===void 0?it():void 0;return m("div",{class:"q-table__middle"},h)}function Xe(){const h=t.item!==void 0?t.item:H=>{const j=H.cols.map(U=>m("div",{class:"q-table__grid-item-row"},[m("div",{class:"q-table__grid-item-title"},[U.label]),m("div",{class:"q-table__grid-item-value"},[U.value])]));if(M.value===!0){const U=t["body-selection"],ue=U!==void 0?U(H):[m(qt,{modelValue:H.selected,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(a,i)=>{I([H.key],[H.row],a,i)}})];j.unshift(m("div",{class:"q-table__grid-item-row"},ue),m(Pn,{dark:o.value}))}const z={class:["q-table__grid-item-card"+Y.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(z.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(z.onClick=U=>{n("RowClick",U,H.row,H.pageIndex)}),e.onRowDblclick!==void 0&&(z.onDblclick=U=>{n("RowDblclick",U,H.row,H.pageIndex)})),m("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(H.selected===!0?" q-table__grid-item--selected":"")},[m("div",z,j)])};return m("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},w.value.map((H,j)=>h(st({key:f.value(H),row:H,pageIndex:j}))))}return Object.assign(l.proxy,{requestServerInteraction:W,setPagination:J,firstPage:Ve,prevPage:Ae,nextPage:$e,lastPage:ye,isRowSelected:k,clearSelection:$,isRowExpanded:N,setExpanded:ne,sort:X,resetVirtualScroll:kt,scrollTo:Dt,getCellValue:pe}),Dn(l.proxy,{filteredSortedRows:()=>he.value,computedRows:()=>w.value,computedRowsNumber:()=>we.value}),()=>{const h=[We()],H={ref:_,class:p.value};return e.grid===!0?h.push(Je()):Object.assign(H,{class:[H.class,e.cardClass],style:e.cardStyle}),h.push(rt(),je()),e.loading===!0&&t.loading!==void 0&&h.push(t.loading()),m("div",H,h)}}});function ml(){const e=new Map;return{getCache:function(t,n){return e[t]===void 0?e[t]=n:e[t]},getCacheWithFn:function(t,n){return e[t]===void 0?e[t]=n():e[t]}}}const Ye=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function hl(e,t,n){return Object.prototype.toString.call(e)==="[object Date]"&&(n=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),wl(At(e,t,n))}function ea(e,t,n){return xa(bl(e,t,n))}function gl(e){return yl(e)===0}function gt(e,t){return t<=6?31:t<=11||gl(e)?30:29}function yl(e){const t=Ye.length;let n=Ye[0],l,r,o,c,u;if(e<n||e>=Ye[t-1])throw new Error("Invalid Jalaali year "+e);for(u=1;u<t&&(l=Ye[u],r=l-n,!(e<l));u+=1)n=l;return c=e-n,r-c<6&&(c=c-r+ie(r+4,33)*33),o=Se(Se(c+1,33)-1,4),o===-1&&(o=4),o}function Da(e,t){const n=Ye.length,l=e+621;let r=-14,o=Ye[0],c,u,f,_,s;if(e<o||e>=Ye[n-1])throw new Error("Invalid Jalaali year "+e);for(s=1;s<n&&(c=Ye[s],u=c-o,!(e<c));s+=1)r=r+ie(u,33)*8+ie(Se(u,33),4),o=c;_=e-o,r=r+ie(_,33)*8+ie(Se(_,33)+3,4),Se(u,33)===4&&u-_===4&&(r+=1);const v=ie(l,4)-ie((ie(l,100)+1)*3,4)-150,Y=20+r-v;return t||(u-_<6&&(_=_-u+ie(u+4,33)*33),f=Se(Se(_+1,33)-1,4),f===-1&&(f=4)),{leap:f,gy:l,march:Y}}function bl(e,t,n){const l=Da(e,!0);return At(l.gy,3,l.march)+(t-1)*31-ie(t,7)*(t-7)+n-1}function wl(e){const t=xa(e).gy;let n=t-621,l,r,o;const c=Da(n,!1),u=At(t,3,c.march);if(o=e-u,o>=0){if(o<=185)return r=1+ie(o,31),l=Se(o,31)+1,{jy:n,jm:r,jd:l};o-=186}else n-=1,o+=179,c.leap===1&&(o+=1);return r=7+ie(o,30),l=Se(o,30)+1,{jy:n,jm:r,jd:l}}function At(e,t,n){let l=ie((e+ie(t-8,6)+100100)*1461,4)+ie(153*Se(t+9,12)+2,5)+n-34840408;return l=l-ie(ie(e+100100+ie(t-8,6),100)*3,4)+752,l}function xa(e){let t=4*e+139361631;t=t+ie(ie(4*e+183187720,146097)*3,4)*4-3908;const n=ie(Se(t,1461),4)*5+308,l=ie(Se(n,153),5)+1,r=Se(ie(n,153),12)+1;return{gy:ie(t,1461)-100100+ie(8-r,6),gm:r,gd:l}}function ie(e,t){return~~(e/t)}function Se(e,t){return e-~~(e/t)*t}const Sl=["gregorian","persian"],Ml={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Sl.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},_l=["update:modelValue"];function Fe(e){return e.year+"/"+ae(e.month)+"/"+ae(e.day)}function kl(e,t){const n=g(()=>e.disable!==!0&&e.readonly!==!0),l=g(()=>n.value===!0?0:-1),r=g(()=>{const u=[];return e.color!==void 0&&u.push(`bg-${e.color}`),e.textColor!==void 0&&u.push(`text-${e.textColor}`),u.join(" ")});function o(){return e.locale!==void 0?{...t.lang.date,...e.locale}:t.lang.date}function c(u){const f=new Date,_=u===!0?null:0;if(e.calendar==="persian"){const s=hl(f);return{year:s.jy,month:s.jm,day:s.jd}}return{year:f.getFullYear(),month:f.getMonth()+1,day:f.getDate(),hour:_,minute:_,second:_,millisecond:_}}return{editable:n,tabindex:l,headerClass:r,getLocale:o,getCurrentDate:c}}const Ca=864e5,Dl=36e5,Pt=6e4,qa="YYYY-MM-DDTHH:mm:ss.SSSZ",xl=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Cl=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,$t={};function ql(e,t){const n="("+t.days.join("|")+")",l=e+n;if($t[l]!==void 0)return $t[l];const r="("+t.daysShort.join("|")+")",o="("+t.months.join("|")+")",c="("+t.monthsShort.join("|")+")",u={};let f=0;const _=e.replace(Cl,v=>{switch(f++,v){case"YY":return u.YY=f,"(-?\\d{1,2})";case"YYYY":return u.YYYY=f,"(-?\\d{1,4})";case"M":return u.M=f,"(\\d{1,2})";case"MM":return u.M=f,"(\\d{2})";case"MMM":return u.MMM=f,c;case"MMMM":return u.MMMM=f,o;case"D":return u.D=f,"(\\d{1,2})";case"Do":return u.D=f++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return u.D=f,"(\\d{2})";case"H":return u.H=f,"(\\d{1,2})";case"HH":return u.H=f,"(\\d{2})";case"h":return u.h=f,"(\\d{1,2})";case"hh":return u.h=f,"(\\d{2})";case"m":return u.m=f,"(\\d{1,2})";case"mm":return u.m=f,"(\\d{2})";case"s":return u.s=f,"(\\d{1,2})";case"ss":return u.s=f,"(\\d{2})";case"S":return u.S=f,"(\\d{1})";case"SS":return u.S=f,"(\\d{2})";case"SSS":return u.S=f,"(\\d{3})";case"A":return u.A=f,"(AM|PM)";case"a":return u.a=f,"(am|pm)";case"aa":return u.aa=f,"(a\\.m\\.|p\\.m\\.)";case"ddd":return r;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return u.Z=f,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return u.ZZ=f,"(Z|[+-]\\d{2}\\d{2})";case"X":return u.X=f,"(-?\\d+)";case"x":return u.x=f,"(-?\\d{4,})";default:return f--,v[0]==="["&&(v=v.substring(1,v.length-1)),v.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),s={map:u,regex:new RegExp("^"+_)};return $t[l]=s,s}function $a(e,t){return e!==void 0?e:t!==void 0?t.date:xn.date}function ta(e,t=""){const n=e>0?"-":"+",l=Math.abs(e),r=Math.floor(l/60),o=l%60;return n+ae(r)+t+ae(o)}function $l(e,t,n){let l=e.getFullYear(),r=e.getMonth();const o=e.getDate();return t.year!==void 0&&(l+=n*t.year,delete t.year),t.month!==void 0&&(r+=n*t.month,delete t.month),e.setDate(1),e.setMonth(2),e.setFullYear(l),e.setMonth(r),e.setDate(Math.min(o,Lt(e))),t.date!==void 0&&(e.setDate(e.getDate()+n*t.date),delete t.date),e}function pl(e,t,n){const l=t.year!==void 0?t.year:e[`get${n}FullYear`](),r=t.month!==void 0?t.month-1:e[`get${n}Month`](),o=new Date(l,r+1,0).getDate(),c=Math.min(o,t.date!==void 0?t.date:e[`get${n}Date`]());return e[`set${n}Date`](1),e[`set${n}Month`](2),e[`set${n}FullYear`](l),e[`set${n}Month`](r),e[`set${n}Date`](c),delete t.year,delete t.month,delete t.date,e}function Bt(e,t,n){const l=pa(t),r=new Date(e),o=l.year!==void 0||l.month!==void 0||l.date!==void 0?$l(r,l,n):r;for(const c in l){const u=pn(c);o[`set${u}`](o[`get${u}`]()+n*l[c])}return o}function pa(e){const t={...e};return e.years!==void 0&&(t.year=e.years,delete t.years),e.months!==void 0&&(t.month=e.months,delete t.months),e.days!==void 0&&(t.date=e.days,delete t.days),e.day!==void 0&&(t.date=e.day,delete t.day),e.hour!==void 0&&(t.hours=e.hour,delete t.hour),e.minute!==void 0&&(t.minutes=e.minute,delete t.minute),e.second!==void 0&&(t.seconds=e.second,delete t.second),e.millisecond!==void 0&&(t.milliseconds=e.millisecond,delete t.millisecond),t}function Ta(e,t,n){const l=pa(t),r=n===!0?"UTC":"",o=new Date(e),c=l.year!==void 0||l.month!==void 0||l.date!==void 0?pl(o,l,r):o;for(const u in l){const f=u.charAt(0).toUpperCase()+u.slice(1);c[`set${r}${f}`](l[u])}return c}function Tl(e,t,n){const l=Oa(e,t,n),r=new Date(l.year,l.month===null?null:l.month-1,l.day===null?1:l.day,l.hour,l.minute,l.second,l.millisecond),o=r.getTimezoneOffset();return l.timezoneOffset===null||l.timezoneOffset===o?r:Bt(r,{minutes:l.timezoneOffset-o},1)}function Oa(e,t,n,l,r){const o={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(r!==void 0&&Object.assign(o,r),e==null||e===""||typeof e!="string")return o;t===void 0&&(t=qa);const c=$a(n,Sa.props),u=c.months,f=c.monthsShort,{regex:_,map:s}=ql(t,c),v=e.match(_);if(v===null)return o;let Y="";if(s.X!==void 0||s.x!==void 0){const D=parseInt(v[s.X!==void 0?s.X:s.x],10);if(isNaN(D)===!0||D<0)return o;const p=new Date(D*(s.X!==void 0?1e3:1));o.year=p.getFullYear(),o.month=p.getMonth()+1,o.day=p.getDate(),o.hour=p.getHours(),o.minute=p.getMinutes(),o.second=p.getSeconds(),o.millisecond=p.getMilliseconds()}else{if(s.YYYY!==void 0)o.year=parseInt(v[s.YYYY],10);else if(s.YY!==void 0){const D=parseInt(v[s.YY],10);o.year=D<0?D:2e3+D}if(s.M!==void 0){if(o.month=parseInt(v[s.M],10),o.month<1||o.month>12)return o}else s.MMM!==void 0?o.month=f.indexOf(v[s.MMM])+1:s.MMMM!==void 0&&(o.month=u.indexOf(v[s.MMMM])+1);if(s.D!==void 0){if(o.day=parseInt(v[s.D],10),o.year===null||o.month===null||o.day<1)return o;const D=l!=="persian"?new Date(o.year,o.month,0).getDate():gt(o.year,o.month);if(o.day>D)return o}s.H!==void 0?o.hour=parseInt(v[s.H],10)%24:s.h!==void 0&&(o.hour=parseInt(v[s.h],10)%12,(s.A&&v[s.A]==="PM"||s.a&&v[s.a]==="pm"||s.aa&&v[s.aa]==="p.m.")&&(o.hour+=12),o.hour=o.hour%24),s.m!==void 0&&(o.minute=parseInt(v[s.m],10)%60),s.s!==void 0&&(o.second=parseInt(v[s.s],10)%60),s.S!==void 0&&(o.millisecond=parseInt(v[s.S],10)*10**(3-v[s.S].length)),(s.Z!==void 0||s.ZZ!==void 0)&&(Y=s.Z!==void 0?v[s.Z].replace(":",""):v[s.ZZ],o.timezoneOffset=(Y[0]==="+"?-1:1)*(60*Y.slice(1,3)+1*Y.slice(3,5)))}return o.dateHash=ae(o.year,6)+"/"+ae(o.month)+"/"+ae(o.day),o.timeHash=ae(o.hour)+":"+ae(o.minute)+":"+ae(o.second)+Y,o}function Ol(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function Vl(e,t){return Ta(new Date,e,t)}function Pl(e){const t=new Date(e).getDay();return t===0?7:t}function Ft(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const l=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-l);const r=(t-n)/(Ca*7);return 1+Math.floor(r)}function Fl(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function pt(e,t){const n=new Date(e);return t===!0?Fl(n):n.getTime()}function Rl(e,t,n,l={}){const r=pt(t,l.onlyDate),o=pt(n,l.onlyDate),c=pt(e,l.onlyDate);return(c>r||l.inclusiveFrom===!0&&c===r)&&(c<o||l.inclusiveTo===!0&&c===o)}function Yl(e,t){return Bt(e,t,1)}function Hl(e,t){return Bt(e,t,-1)}function De(e,t,n){const l=new Date(e),r=`set${n===!0?"UTC":""}`;switch(t){case"year":case"years":l[`${r}Month`](0);case"month":case"months":l[`${r}Date`](1);case"day":case"days":case"date":l[`${r}Hours`](0);case"hour":case"hours":l[`${r}Minutes`](0);case"minute":case"minutes":l[`${r}Seconds`](0);case"second":case"seconds":l[`${r}Milliseconds`](0)}return l}function El(e,t,n){const l=new Date(e),r=`set${n===!0?"UTC":""}`;switch(t){case"year":case"years":l[`${r}Month`](11);case"month":case"months":l[`${r}Date`](Lt(l));case"day":case"days":case"date":l[`${r}Hours`](23);case"hour":case"hours":l[`${r}Minutes`](59);case"minute":case"minutes":l[`${r}Seconds`](59);case"second":case"seconds":l[`${r}Milliseconds`](999)}return l}function Il(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(n=>{t=Math.max(t,new Date(n))}),t}function Al(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(n=>{t=Math.min(t,new Date(n))}),t}function ht(e,t,n){return(e.getTime()-e.getTimezoneOffset()*Pt-(t.getTime()-t.getTimezoneOffset()*Pt))/n}function jt(e,t,n="days"){const l=new Date(e),r=new Date(t);switch(n){case"years":case"year":return l.getFullYear()-r.getFullYear();case"months":case"month":return(l.getFullYear()-r.getFullYear())*12+l.getMonth()-r.getMonth();case"days":case"day":case"date":return ht(De(l,"day"),De(r,"day"),Ca);case"hours":case"hour":return ht(De(l,"hour"),De(r,"hour"),Dl);case"minutes":case"minute":return ht(De(l,"minute"),De(r,"minute"),Pt);case"seconds":case"second":return ht(De(l,"second"),De(r,"second"),1e3)}}function Rt(e){return jt(e,De(e,"year"),"days")+1}function Bl(e){return yt(e)===!0?"date":typeof e=="number"?"number":"string"}function jl(e,t,n){const l=new Date(e);if(t){const r=new Date(t);if(l<r)return r}if(n){const r=new Date(n);if(l>r)return r}return l}function Ll(e,t,n){const l=new Date(e),r=new Date(t);if(n===void 0)return l.getTime()===r.getTime();switch(n){case"second":case"seconds":if(l.getSeconds()!==r.getSeconds())return!1;case"minute":case"minutes":if(l.getMinutes()!==r.getMinutes())return!1;case"hour":case"hours":if(l.getHours()!==r.getHours())return!1;case"day":case"days":case"date":if(l.getDate()!==r.getDate())return!1;case"month":case"months":if(l.getMonth()!==r.getMonth())return!1;case"year":case"years":if(l.getFullYear()!==r.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${n}`)}return!0}function Lt(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function aa(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const na={YY(e,t,n){const l=this.YYYY(e,t,n)%100;return l>=0?ae(l):"-"+ae(Math.abs(l))},YYYY(e,t,n){return n!=null?n:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return ae(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return aa(this.Q(e))},D(e){return e.getDate()},Do(e){return aa(e.getDate())},DD(e){return ae(e.getDate())},DDD(e){return Rt(e)},DDDD(e){return ae(Rt(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Ft(e)},ww(e){return ae(Ft(e))},H(e){return e.getHours()},HH(e){return ae(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return ae(this.h(e))},m(e){return e.getMinutes()},mm(e){return ae(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return ae(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return ae(Math.floor(e.getMilliseconds()/10))},SSS(e){return ae(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,n,l){const r=l==null?e.getTimezoneOffset():l;return ta(r,":")},ZZ(e,t,n,l){const r=l==null?e.getTimezoneOffset():l;return ta(r)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Va(e,t,n,l,r){if(e!==0&&!e||e===1/0||e===-1/0)return;const o=new Date(e);if(isNaN(o))return;t===void 0&&(t=qa);const c=$a(n,Sa.props);return t.replace(xl,(u,f)=>u in na?na[u](o,c,l,r):f===void 0?u:f.split("\\]").join("]"))}function Nl(e){return yt(e)===!0?new Date(e.getTime()):e}var la={isValid:Ol,extractDate:Tl,buildDate:Vl,getDayOfWeek:Pl,getWeekOfYear:Ft,isBetweenDates:Rl,addToDate:Yl,subtractFromDate:Hl,adjustDate:Ta,startOfDate:De,endOfDate:El,getMaxDate:Il,getMinDate:Al,getDateDiff:jt,getDayOfYear:Rt,inferDateFormat:Bl,getDateBetween:jl,isSameDate:Ll,daysInMonth:Lt,formatDate:Va,clone:Nl};const Ee=20,zl=["Calendar","Years","Months"],ra=e=>zl.includes(e),Tt=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Ne=" \u2014 ";function Re(e){return e.year+"/"+ae(e.month)}var oa=Ce({name:"QDate",props:{...Ml,...Yt,...Qe,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Tt},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Tt},navigationMaxYearMonth:{type:String,validator:Tt},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:ra}},emits:[..._l,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:n}){const{proxy:l}=qe(),{$q:r}=l,o=Ue(e,r),{getCache:c}=ml(),{tabindex:u,headerClass:f,getLocale:_,getCurrentDate:s}=kl(e,r);let v;const Y=Ea(e),D=ma(Y),p=K(null),T=K(ct()),R=K(_()),se=g(()=>ct()),W=g(()=>_()),J=g(()=>s()),V=K(Be(T.value,R.value)),N=K(e.defaultView),ne=r.lang.rtl===!0?"right":"left",re=K(ne.value),he=K(ne.value),q=V.value.year,w=K(q-q%Ee-(q<0?Ee:0)),M=K(null),y=g(()=>{const a=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${a} q-date--${a}-${e.minimal===!0?"minimal":"standard"}`+(o.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),B=g(()=>e.color||"primary"),C=g(()=>e.textColor||"white"),x=g(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),b=g(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),k=g(()=>b.value.filter(a=>typeof a=="string").map(a=>Ke(a,T.value,R.value)).filter(a=>a.dateHash!==null&&a.day!==null&&a.month!==null&&a.year!==null)),$=g(()=>{const a=i=>Ke(i,T.value,R.value);return b.value.filter(i=>wa(i)===!0&&i.from!==void 0&&i.to!==void 0).map(i=>({from:a(i.from),to:a(i.to)})).filter(i=>i.from.dateHash!==null&&i.to.dateHash!==null&&i.from.dateHash<i.to.dateHash)}),I=g(()=>e.calendar!=="persian"?a=>new Date(a.year,a.month-1,a.day):a=>{const i=ea(a.year,a.month,a.day);return new Date(i.gy,i.gm-1,i.gd)}),P=g(()=>e.calendar==="persian"?Fe:(a,i,d)=>Va(new Date(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond),i===void 0?T.value:i,d===void 0?R.value:d,a.year,a.timezoneOffset)),E=g(()=>k.value.length+$.value.reduce((a,i)=>a+1+jt(I.value(i.to),I.value(i.from)),0)),S=g(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(M.value!==null){const d=M.value.init,F=I.value(d);return R.value.daysShort[F.getDay()]+", "+R.value.monthsShort[d.month-1]+" "+d.day+Ne+"?"}if(E.value===0)return Ne;if(E.value>1)return`${E.value} ${R.value.pluralDay}`;const a=k.value[0],i=I.value(a);return isNaN(i.valueOf())===!0?Ne:R.value.headerTitle!==void 0?R.value.headerTitle(i,a):R.value.daysShort[i.getDay()]+", "+R.value.monthsShort[a.month-1]+" "+a.day}),L=g(()=>k.value.concat($.value.map(i=>i.from)).sort((i,d)=>i.year-d.year||i.month-d.month)[0]),G=g(()=>k.value.concat($.value.map(i=>i.to)).sort((i,d)=>d.year-i.year||d.month-i.month)[0]),ee=g(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(E.value===0)return Ne;if(E.value>1){const a=L.value,i=G.value,d=R.value.monthsShort;return d[a.month-1]+(a.year!==i.year?" "+a.year+Ne+d[i.month-1]+" ":a.month!==i.month?Ne+d[i.month-1]:"")+" "+i.year}return k.value[0].year}),X=g(()=>{const a=[r.iconSet.datetime.arrowLeft,r.iconSet.datetime.arrowRight];return r.lang.rtl===!0?a.reverse():a}),ce=g(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):R.value.firstDayOfWeek),Me=g(()=>{const a=R.value.daysShort,i=ce.value;return i>0?a.slice(i,7).concat(a.slice(0,i)):a}),fe=g(()=>{const a=V.value;return e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():gt(a.year,a.month)}),ve=g(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),te=g(()=>{if(e.navigationMinYearMonth===void 0)return null;const a=e.navigationMinYearMonth.split("/");return{year:parseInt(a[0],10),month:parseInt(a[1],10)}}),de=g(()=>{if(e.navigationMaxYearMonth===void 0)return null;const a=e.navigationMaxYearMonth.split("/");return{year:parseInt(a[0],10),month:parseInt(a[1],10)}}),we=g(()=>{const a={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return te.value!==null&&te.value.year>=V.value.year&&(a.year.prev=!1,te.value.year===V.value.year&&te.value.month>=V.value.month&&(a.month.prev=!1)),de.value!==null&&de.value.year<=V.value.year&&(a.year.next=!1,de.value.year===V.value.year&&de.value.month<=V.value.month&&(a.month.next=!1)),a}),Ve=g(()=>{const a={};return k.value.forEach(i=>{const d=Re(i);a[d]===void 0&&(a[d]=[]),a[d].push(i.day)}),a}),Ae=g(()=>{const a={};return $.value.forEach(i=>{const d=Re(i.from),F=Re(i.to);if(a[d]===void 0&&(a[d]=[]),a[d].push({from:i.from.day,to:d===F?i.to.day:void 0,range:i}),d<F){let O;const{year:Z,month:A}=i.from,Q=A<12?{year:Z,month:A+1}:{year:Z+1,month:1};for(;(O=Re(Q))<=F;)a[O]===void 0&&(a[O]=[]),a[O].push({from:void 0,to:O===F?i.to.day:void 0,range:i}),Q.month++,Q.month>12&&(Q.year++,Q.month=1)}}),a}),$e=g(()=>{if(M.value===null)return;const{init:a,initHash:i,final:d,finalHash:F}=M.value,[O,Z]=i<=F?[a,d]:[d,a],A=Re(O),Q=Re(Z);if(A!==ye.value&&Q!==ye.value)return;const oe={};return A===ye.value?(oe.from=O.day,oe.includeFrom=!0):oe.from=1,Q===ye.value?(oe.to=Z.day,oe.includeTo=!0):oe.to=fe.value,oe}),ye=g(()=>Re(V.value)),Mt=g(()=>{const a={};if(e.options===void 0){for(let d=1;d<=fe.value;d++)a[d]=!0;return a}const i=typeof e.options=="function"?e.options:d=>e.options.includes(d);for(let d=1;d<=fe.value;d++){const F=ye.value+"/"+ae(d);a[d]=i(F)}return a}),_t=g(()=>{const a={};if(e.events===void 0)for(let i=1;i<=fe.value;i++)a[i]=!1;else{const i=typeof e.events=="function"?e.events:d=>e.events.includes(d);for(let d=1;d<=fe.value;d++){const F=ye.value+"/"+ae(d);a[d]=i(F)===!0&&ve.value(F)}}return a}),kt=g(()=>{let a,i;const{year:d,month:F}=V.value;if(e.calendar!=="persian")a=new Date(d,F-1,1),i=new Date(d,F-1,0).getDate();else{const O=ea(d,F,1);a=new Date(O.gy,O.gm-1,O.gd);let Z=F-1,A=d;Z===0&&(Z=12,A--),i=gt(A,Z)}return{days:a.getDay()-ce.value-1,endDay:i}}),rt=g(()=>{const a=[],{days:i,endDay:d}=kt.value,F=i<0?i+7:i;if(F<6)for(let A=d-F;A<=d;A++)a.push({i:A,fill:!0});const O=a.length;for(let A=1;A<=fe.value;A++){const Q={i:A,event:_t.value[A],classes:[]};Mt.value[A]===!0&&(Q.in=!0,Q.flat=!0),a.push(Q)}if(Ve.value[ye.value]!==void 0&&Ve.value[ye.value].forEach(A=>{const Q=O+A-1;Object.assign(a[Q],{selected:!0,unelevated:!0,flat:!1,color:B.value,textColor:C.value})}),Ae.value[ye.value]!==void 0&&Ae.value[ye.value].forEach(A=>{if(A.from!==void 0){const Q=O+A.from-1,oe=O+(A.to||fe.value)-1;for(let Ge=Q;Ge<=oe;Ge++)Object.assign(a[Ge],{range:A.range,unelevated:!0,color:B.value,textColor:C.value});Object.assign(a[Q],{rangeFrom:!0,flat:!1}),A.to!==void 0&&Object.assign(a[oe],{rangeTo:!0,flat:!1})}else if(A.to!==void 0){const Q=O+A.to-1;for(let oe=O;oe<=Q;oe++)Object.assign(a[oe],{range:A.range,unelevated:!0,color:B.value,textColor:C.value});Object.assign(a[Q],{flat:!1,rangeTo:!0})}else{const Q=O+fe.value-1;for(let oe=O;oe<=Q;oe++)Object.assign(a[oe],{range:A.range,unelevated:!0,color:B.value,textColor:C.value})}}),$e.value!==void 0){const A=O+$e.value.from-1,Q=O+$e.value.to-1;for(let oe=A;oe<=Q;oe++)a[oe].color=B.value,a[oe].editRange=!0;$e.value.includeFrom===!0&&(a[A].editRangeFrom=!0),$e.value.includeTo===!0&&(a[Q].editRangeTo=!0)}V.value.year===J.value.year&&V.value.month===J.value.month&&(a[O+J.value.day-1].today=!0);const Z=a.length%7;if(Z>0){const A=7-Z;for(let Q=1;Q<=A;Q++)a.push({i:Q,fill:!0})}return a.forEach(A=>{let Q="q-date__calendar-item ";A.fill===!0?Q+="q-date__calendar-item--fill":(Q+=`q-date__calendar-item--${A.in===!0?"in":"out"}`,A.range!==void 0&&(Q+=` q-date__range${A.rangeTo===!0?"-to":A.rangeFrom===!0?"-from":""}`),A.editRange===!0&&(Q+=` q-date__edit-range${A.editRangeFrom===!0?"-from":""}${A.editRangeTo===!0?"-to":""}`),(A.range!==void 0||A.editRange===!0)&&(Q+=` text-${A.color}`)),A.classes=Q}),a}),Dt=g(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});le(()=>e.modelValue,a=>{if(v===a)v=0;else{const i=Be(T.value,R.value);Oe(i.year,i.month,i)}}),le(N,()=>{p.value!==null&&l.$el.contains(document.activeElement)===!0&&p.value.focus()}),le(()=>V.value.year+"|"+V.value.month,()=>{n("navigation",{year:V.value.year,month:V.value.month})}),le(se,a=>{h(a,R.value,"mask"),T.value=a}),le(W,a=>{h(T.value,a,"locale"),R.value=a});function ot(){const a=J.value,i=Ve.value[Re(a)];(i===void 0||i.includes(a.day)===!1)&&Je(a),Ze(a.year,a.month)}function it(a){ra(a)===!0&&(N.value=a)}function ut(a,i){["month","year"].includes(a)&&(a==="month"?Te:We)(i===!0?-1:1)}function Ze(a,i){N.value="Calendar",Oe(a,i)}function st(a,i){if(e.range===!1||!a){M.value=null;return}const d=Object.assign({...V.value},a),F=i!==void 0?Object.assign({...V.value},i):d;M.value={init:d,initHash:Fe(d),final:F,finalHash:Fe(F)},Ze(d.year,d.month)}function ct(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Ke(a,i,d){return Oa(a,i,d,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Be(a,i){const d=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(d.length===0)return pe();const F=d[d.length-1],O=Ke(F.from!==void 0?F.from:F,a,i);return O.dateHash===null?pe():O}function pe(){let a,i;if(e.defaultYearMonth!==void 0){const d=e.defaultYearMonth.split("/");a=parseInt(d[0],10),i=parseInt(d[1],10)}else{const d=J.value!==void 0?J.value:s();a=d.year,i=d.month}return{year:a,month:i,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:a+"/"+ae(i)+"/01"}}function Te(a){let i=V.value.year,d=Number(V.value.month)+a;d===13?(d=1,i++):d===0&&(d=12,i--),Oe(i,d),x.value===!0&&je("month")}function We(a){const i=Number(V.value.year)+a;Oe(i,V.value.month),x.value===!0&&je("year")}function dt(a){Oe(a,V.value.month),N.value=e.defaultView==="Years"?"Months":"Calendar",x.value===!0&&je("year")}function ft(a){Oe(V.value.year,a),N.value="Calendar",x.value===!0&&je("month")}function xt(a,i){const d=Ve.value[i];(d!==void 0&&d.includes(a.day)===!0?Xe:Je)(a)}function _e(a){return{year:a.year,month:a.month,day:a.day}}function Oe(a,i,d){if(te.value!==null&&a<=te.value.year&&(a=te.value.year,i<te.value.month&&(i=te.value.month)),de.value!==null&&a>=de.value.year&&(a=de.value.year,i>de.value.month&&(i=de.value.month)),d!==void 0){const{hour:O,minute:Z,second:A,millisecond:Q,timezoneOffset:oe,timeHash:Ge}=d;Object.assign(V.value,{hour:O,minute:Z,second:A,millisecond:Q,timezoneOffset:oe,timeHash:Ge})}const F=a+"/"+ae(i)+"/01";F!==V.value.dateHash&&(re.value=V.value.dateHash<F==(r.lang.rtl!==!0)?"left":"right",a!==V.value.year&&(he.value=re.value),xe(()=>{w.value=a-a%Ee-(a<0?Ee:0),Object.assign(V.value,{year:a,month:i,day:1,dateHash:F})}))}function He(a,i,d){const F=a!==null&&a.length===1&&e.multiple===!1?a[0]:a;v=F;const{reason:O,details:Z}=vt(i,d);n("update:modelValue",F,O,Z)}function je(a){const i=k.value[0]!==void 0&&k.value[0].dateHash!==null?{...k.value[0]}:{...V.value};xe(()=>{i.year=V.value.year,i.month=V.value.month;const d=e.calendar!=="persian"?new Date(i.year,i.month,0).getDate():gt(i.year,i.month);i.day=Math.min(Math.max(1,i.day),d);const F=Pe(i);v=F;const{details:O}=vt("",i);n("update:modelValue",F,a,O)})}function vt(a,i){return i.from!==void 0?{reason:`${a}-range`,details:{..._e(i.target),from:_e(i.from),to:_e(i.to)}}:{reason:`${a}-day`,details:_e(i)}}function Pe(a,i,d){return a.from!==void 0?{from:P.value(a.from,i,d),to:P.value(a.to,i,d)}:P.value(a,i,d)}function Je(a){let i;if(e.multiple===!0)if(a.from!==void 0){const d=Fe(a.from),F=Fe(a.to),O=k.value.filter(A=>A.dateHash<d||A.dateHash>F),Z=$.value.filter(({from:A,to:Q})=>Q.dateHash<d||A.dateHash>F);i=O.concat(Z).concat(a).map(A=>Pe(A))}else{const d=b.value.slice();d.push(Pe(a)),i=d}else i=Pe(a);He(i,"add",a)}function Xe(a){if(e.noUnset===!0)return;let i=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const d=Pe(a);a.from!==void 0?i=e.modelValue.filter(F=>F.from!==void 0?F.from!==d.from&&F.to!==d.to:!0):i=e.modelValue.filter(F=>F!==d),i.length===0&&(i=null)}He(i,"remove",a)}function h(a,i,d){const F=k.value.concat($.value).map(O=>Pe(O,a,i)).filter(O=>O.from!==void 0?O.from.dateHash!==null&&O.to.dateHash!==null:O.dateHash!==null);n("update:modelValue",(e.multiple===!0?F:F[0])||null,d)}function H(){if(e.minimal!==!0)return m("div",{class:"q-date__header "+f.value},[m("div",{class:"relative-position"},[m(et,{name:"q-transition--fade"},()=>m("div",{key:"h-yr-"+ee.value,class:"q-date__header-subtitle q-date__header-link "+(N.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...c("vY",{onClick(){N.value="Years"},onKeyup(a){a.keyCode===13&&(N.value="Years")}})},[ee.value]))]),m("div",{class:"q-date__header-title relative-position flex no-wrap"},[m("div",{class:"relative-position col"},[m(et,{name:"q-transition--fade"},()=>m("div",{key:"h-sub"+S.value,class:"q-date__header-title-label q-date__header-link "+(N.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...c("vC",{onClick(){N.value="Calendar"},onKeyup(a){a.keyCode===13&&(N.value="Calendar")}})},[S.value]))]),e.todayBtn===!0?m(be,{class:"q-date__header-today self-start",icon:r.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:u.value,onClick:ot}):null])])}function j({label:a,type:i,key:d,dir:F,goTo:O,boundaries:Z,cls:A}){return[m("div",{class:"row items-center q-date__arrow"},[m(be,{round:!0,dense:!0,size:"sm",flat:!0,icon:X.value[0],tabindex:u.value,disable:Z.prev===!1,...c("go-#"+i,{onClick(){O(-1)}})})]),m("div",{class:"relative-position overflow-hidden flex flex-center"+A},[m(et,{name:"q-transition--jump-"+F},()=>m("div",{key:d},[m(be,{flat:!0,dense:!0,noCaps:!0,label:a,tabindex:u.value,...c("view#"+i,{onClick:()=>{N.value=i}})})]))]),m("div",{class:"row items-center q-date__arrow"},[m(be,{round:!0,dense:!0,size:"sm",flat:!0,icon:X.value[1],tabindex:u.value,disable:Z.next===!1,...c("go+#"+i,{onClick(){O(1)}})})])]}const z={Calendar:()=>[m("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[m("div",{class:"q-date__navigation row items-center no-wrap"},j({label:R.value.months[V.value.month-1],type:"Months",key:V.value.month,dir:re.value,goTo:Te,boundaries:we.value.month,cls:" col"}).concat(j({label:V.value.year,type:"Years",key:V.value.year,dir:he.value,goTo:We,boundaries:we.value.year,cls:""}))),m("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Me.value.map(a=>m("div",{class:"q-date__calendar-item"},[m("div",a)]))),m("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[m(et,{name:"q-transition--slide-"+re.value},()=>m("div",{key:ye.value,class:"q-date__calendar-days fit"},rt.value.map(a=>m("div",{class:a.classes},[a.in===!0?m(be,{class:a.today===!0?"q-date__today":"",dense:!0,flat:a.flat,unelevated:a.unelevated,color:a.color,textColor:a.textColor,label:a.i,tabindex:u.value,...c("day#"+a.i,{onClick:()=>{U(a.i)},onMouseover:()=>{ue(a.i)}})},a.event!==!1?()=>m("div",{class:"q-date__event bg-"+a.event}):null):m("div",""+a.i)]))))])])],Months(){const a=V.value.year===J.value.year,i=F=>te.value!==null&&V.value.year===te.value.year&&te.value.month>F||de.value!==null&&V.value.year===de.value.year&&de.value.month<F,d=R.value.monthsShort.map((F,O)=>{const Z=V.value.month===O+1;return m("div",{class:"q-date__months-item flex flex-center"},[m(be,{class:a===!0&&J.value.month===O+1?"q-date__today":null,flat:Z!==!0,label:F,unelevated:Z,color:Z===!0?B.value:null,textColor:Z===!0?C.value:null,tabindex:u.value,disable:i(O+1),...c("month#"+O,{onClick:()=>{ft(O+1)}})})])});return e.yearsInMonthView===!0&&d.unshift(m("div",{class:"row no-wrap full-width"},[j({label:V.value.year,type:"Years",key:V.value.year,dir:he.value,goTo:We,boundaries:we.value.year,cls:" col"})])),m("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},d)},Years(){const a=w.value,i=a+Ee,d=[],F=O=>te.value!==null&&te.value.year>O||de.value!==null&&de.value.year<O;for(let O=a;O<=i;O++){const Z=V.value.year===O;d.push(m("div",{class:"q-date__years-item flex flex-center"},[m(be,{key:"yr"+O,class:J.value.year===O?"q-date__today":null,flat:!Z,label:O,dense:!0,unelevated:Z,color:Z===!0?B.value:null,textColor:Z===!0?C.value:null,tabindex:u.value,disable:F(O),...c("yr#"+O,{onClick:()=>{dt(O)}})})]))}return m("div",{class:"q-date__view q-date__years flex flex-center"},[m("div",{class:"col-auto"},[m(be,{round:!0,dense:!0,flat:!0,icon:X.value[0],tabindex:u.value,disable:F(a),...c("y-",{onClick:()=>{w.value-=Ee}})})]),m("div",{class:"q-date__years-content col self-stretch row items-center"},d),m("div",{class:"col-auto"},[m(be,{round:!0,dense:!0,flat:!0,icon:X.value[1],tabindex:u.value,disable:F(i),...c("y+",{onClick:()=>{w.value+=Ee}})})])])}};function U(a){const i={...V.value,day:a};if(e.range===!1){xt(i,ye.value);return}if(M.value===null){const d=rt.value.find(O=>O.fill!==!0&&O.i===a);if(e.noUnset!==!0&&d.range!==void 0){Xe({target:i,from:d.range.from,to:d.range.to});return}if(d.selected===!0){Xe(i);return}const F=Fe(i);M.value={init:i,initHash:F,final:i,finalHash:F},n("rangeStart",_e(i))}else{const d=M.value.initHash,F=Fe(i),O=d<=F?{from:M.value.init,to:i}:{from:i,to:M.value.init};M.value=null,Je(d===F?i:{target:i,...O}),n("rangeEnd",{from:_e(O.from),to:_e(O.to)})}}function ue(a){if(M.value!==null){const i={...V.value,day:a};Object.assign(M.value,{final:i,finalHash:Fe(i)})}}return Object.assign(l,{setToday:ot,setView:it,offsetCalendar:ut,setCalendarTo:Ze,setEditingRange:st}),()=>{const a=[m("div",{class:"q-date__content col relative-position"},[m(et,{name:"q-transition--fade"},z[N.value])])],i=lt(t.default);return i!==void 0&&a.push(m("div",{class:"q-date__actions"},i)),e.name!==void 0&&e.disable!==!0&&D(a,"push"),m("div",{class:y.value,...Dt.value},[H(),m("div",{ref:p,class:"q-date__main col column",tabindex:-1},a)])}}}),ia=Ce({name:"QPopupProxy",props:{...Ia,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:t,emit:n,attrs:l}){const{proxy:r}=qe(),{$q:o}=r,c=K(!1),u=K(null),f=g(()=>parseInt(e.breakpoint,10)),{canShow:_}=Aa({showing:c});function s(){return o.screen.width<f.value||o.screen.height<f.value?"dialog":"menu"}const v=K(s()),Y=g(()=>v.value==="menu"?{maxHeight:"99vh"}:{});le(()=>s(),T=>{c.value!==!0&&(v.value=T)});function D(T){c.value=!0,n("show",T)}function p(T){c.value=!1,v.value=s(),n("hide",T)}return Object.assign(r,{show(T){_(T)===!0&&u.value.show(T)},hide(T){u.value.hide(T)},toggle(T){u.value.toggle(T)}}),Ie(r,"currentComponent",()=>({type:v.value,ref:u.value})),()=>{const T={ref:u,...Y.value,...l,onShow:D,onHide:p};let R;return v.value==="dialog"?R=Ba:(R=ja,Object.assign(T,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),m(R,T,t.default)}}});function ua(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var sa=Mn({name:"close-popup",beforeMount(e,{value:t}){const n={depth:ua(t),handler(l){n.depth!==0&&setTimeout(()=>{const r=La(e);r!==void 0&&Na(r,l,n.depth)})},handlerKey(l){Cn(l,13)===!0&&n.handler(l)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=ua(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const ca={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},St={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Pa=Object.keys(St);Pa.forEach(e=>{St[e].regex=new RegExp(St[e].pattern)});const Ql=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Pa.join("")+"])|(.)","g"),da=/[.*+?^${}()|[\]\\]/g,me=String.fromCharCode(1),Ul={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Zl(e,t,n,l){let r,o,c,u,f,_;const s=K(null),v=K(D());function Y(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}le(()=>e.type+e.autogrow,T),le(()=>e.mask,q=>{if(q!==void 0)R(v.value,!0);else{const w=re(v.value);T(),e.modelValue!==w&&t("update:modelValue",w)}}),le(()=>e.fillMask+e.reverseFillMask,()=>{s.value===!0&&R(v.value,!0)}),le(()=>e.unmaskedValue,()=>{s.value===!0&&R(v.value)});function D(){if(T(),s.value===!0){const q=N(re(e.modelValue));return e.fillMask!==!1?he(q):q}return e.modelValue}function p(q){if(q<r.length)return r.slice(-q);let w="",M=r;const y=M.indexOf(me);if(y>-1){for(let B=q-M.length;B>0;B--)w+=me;M=M.slice(0,y)+w+M.slice(y)}return M}function T(){if(s.value=e.mask!==void 0&&e.mask.length!==0&&Y(),s.value===!1){u=void 0,r="",o="";return}const q=ca[e.mask]===void 0?e.mask:ca[e.mask],w=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",M=w.replace(da,"\\$&"),y=[],B=[],C=[];let x=e.reverseFillMask===!0,b="",k="";q.replace(Ql,(E,S,L,G,ee)=>{if(G!==void 0){const X=St[G];C.push(X),k=X.negate,x===!0&&(B.push("(?:"+k+"+)?("+X.pattern+"+)?(?:"+k+"+)?("+X.pattern+"+)?"),x=!1),B.push("(?:"+k+"+)?("+X.pattern+")?")}else if(L!==void 0)b="\\"+(L==="\\"?"":L),C.push(L),y.push("([^"+b+"]+)?"+b+"?");else{const X=S!==void 0?S:ee;b=X==="\\"?"\\\\\\\\":X.replace(da,"\\\\$&"),C.push(X),y.push("([^"+b+"]+)?"+b+"?")}});const $=new RegExp("^"+y.join("")+"("+(b===""?".":"[^"+b+"]")+"+)?"+(b===""?"":"["+b+"]*")+"$"),I=B.length-1,P=B.map((E,S)=>S===0&&e.reverseFillMask===!0?new RegExp("^"+M+"*"+E):S===I?new RegExp("^"+E+"("+(k===""?".":k)+"+)?"+(e.reverseFillMask===!0?"$":M+"*")):new RegExp("^"+E));c=C,u=E=>{const S=$.exec(e.reverseFillMask===!0?E:E.slice(0,C.length+1));S!==null&&(E=S.slice(1).join(""));const L=[],G=P.length;for(let ee=0,X=E;ee<G;ee++){const ce=P[ee].exec(X);if(ce===null)break;X=X.slice(ce.shift().length),L.push(...ce)}return L.length!==0?L.join(""):E},r=C.map(E=>typeof E=="string"?E:me).join(""),o=r.split(me).join(w)}function R(q,w,M){const y=l.value,B=y.selectionEnd,C=y.value.length-B,x=re(q);w===!0&&T();const b=N(x),k=e.fillMask!==!1?he(b):b,$=v.value!==k;y.value!==k&&(y.value=k),$===!0&&(v.value=k),document.activeElement===y&&xe(()=>{if(k===o){const P=e.reverseFillMask===!0?o.length:0;y.setSelectionRange(P,P,"forward");return}if(M==="insertFromPaste"&&e.reverseFillMask!==!0){const P=y.selectionEnd;let E=B-1;for(let S=f;S<=E&&S<P;S++)r[S]!==me&&E++;W.right(y,E);return}if(["deleteContentBackward","deleteContentForward"].indexOf(M)>-1){const P=e.reverseFillMask===!0?B===0?k.length>b.length?1:0:Math.max(0,k.length-(k===o?0:Math.min(b.length,C)+1))+1:B;y.setSelectionRange(P,P,"forward");return}if(e.reverseFillMask===!0)if($===!0){const P=Math.max(0,k.length-(k===o?0:Math.min(b.length,C+1)));P===1&&B===1?y.setSelectionRange(P,P,"forward"):W.rightReverse(y,P)}else{const P=k.length-C;y.setSelectionRange(P,P,"backward")}else if($===!0){const P=Math.max(0,r.indexOf(me),Math.min(b.length,B)-1);W.right(y,P)}else{const P=B-1;W.right(y,P)}});const I=e.unmaskedValue===!0?re(k):k;String(e.modelValue)!==I&&n(I,!0)}function se(q,w,M){const y=N(re(q.value));w=Math.max(0,r.indexOf(me),Math.min(y.length,w)),f=w,q.setSelectionRange(w,M,"forward")}const W={left(q,w){const M=r.slice(w-1).indexOf(me)===-1;let y=Math.max(0,w-1);for(;y>=0;y--)if(r[y]===me){w=y,M===!0&&w++;break}if(y<0&&r[w]!==void 0&&r[w]!==me)return W.right(q,0);w>=0&&q.setSelectionRange(w,w,"backward")},right(q,w){const M=q.value.length;let y=Math.min(M,w+1);for(;y<=M;y++)if(r[y]===me){w=y;break}else r[y-1]===me&&(w=y);if(y>M&&r[w-1]!==void 0&&r[w-1]!==me)return W.left(q,M);q.setSelectionRange(w,w,"forward")},leftReverse(q,w){const M=p(q.value.length);let y=Math.max(0,w-1);for(;y>=0;y--)if(M[y-1]===me){w=y;break}else if(M[y]===me&&(w=y,y===0))break;if(y<0&&M[w]!==void 0&&M[w]!==me)return W.rightReverse(q,0);w>=0&&q.setSelectionRange(w,w,"backward")},rightReverse(q,w){const M=q.value.length,y=p(M),B=y.slice(0,w+1).indexOf(me)===-1;let C=Math.min(M,w+1);for(;C<=M;C++)if(y[C-1]===me){w=C,w>0&&B===!0&&w--;break}if(C>M&&y[w-1]!==void 0&&y[w-1]!==me)return W.leftReverse(q,M);q.setSelectionRange(w,w,"forward")}};function J(q){t("click",q),_=void 0}function V(q){if(t("keydown",q),qn(q)===!0||q.altKey===!0)return;const w=l.value,M=w.selectionStart,y=w.selectionEnd;if(q.shiftKey||(_=void 0),q.keyCode===37||q.keyCode===39){q.shiftKey&&_===void 0&&(_=w.selectionDirection==="forward"?M:y);const B=W[(q.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(q.preventDefault(),B(w,_===M?y:M),q.shiftKey){const C=w.selectionStart;w.setSelectionRange(Math.min(_,C),Math.max(_,C),"forward")}}else q.keyCode===8&&e.reverseFillMask!==!0&&M===y?(W.left(w,M),w.setSelectionRange(w.selectionStart,y,"backward")):q.keyCode===46&&e.reverseFillMask===!0&&M===y&&(W.rightReverse(w,y),w.setSelectionRange(M,w.selectionEnd,"forward"))}function N(q){if(q==null||q==="")return"";if(e.reverseFillMask===!0)return ne(q);const w=c;let M=0,y="";for(let B=0;B<w.length;B++){const C=q[M],x=w[B];if(typeof x=="string")y+=x,C===x&&M++;else if(C!==void 0&&x.regex.test(C))y+=x.transform!==void 0?x.transform(C):C,M++;else return y}return y}function ne(q){const w=c,M=r.indexOf(me);let y=q.length-1,B="";for(let C=w.length-1;C>=0&&y>-1;C--){const x=w[C];let b=q[y];if(typeof x=="string")B=x+B,b===x&&y--;else if(b!==void 0&&x.regex.test(b))do B=(x.transform!==void 0?x.transform(b):b)+B,y--,b=q[y];while(M===C&&b!==void 0&&x.regex.test(b));else return B}return B}function re(q){return typeof q!="string"||u===void 0?typeof q=="number"?u(""+q):q:u(q)}function he(q){return o.length-q.length<=0?q:e.reverseFillMask===!0&&q.length!==0?o.slice(0,-q.length)+q:q+o.slice(q.length)}return{innerValue:v,hasMask:s,moveCursorForPaste:se,updateMaskValue:R,onMaskedKeydown:V,onMaskedClick:J}}function Kl(e,t){function n(){const l=e.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(l)===l&&("length"in l?Array.from(l):[l]).forEach(o=>{r.items.add(o)}),{files:r.files}}catch{return{files:void 0}}}return t===!0?g(()=>{if(e.type==="file")return n()}):g(n)}var fa=Ce({name:"QInput",inheritAttrs:!1,props:{...za,...Ul,...Yt,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Qa,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:l}=qe(),{$q:r}=l,o={};let c=NaN,u,f,_=null,s;const v=K(null),Y=Ua(e),{innerValue:D,hasMask:p,moveCursorForPaste:T,updateMaskValue:R,onMaskedKeydown:se,onMaskedClick:W}=Zl(e,t,b,v),J=Kl(e,!0),V=g(()=>Nt(D.value)),N=Ja(C),ne=Za(),re=g(()=>e.type==="textarea"||e.autogrow===!0),he=g(()=>re.value===!0||["text","search","url","tel","password"].includes(e.type)),q=g(()=>{const S={...ne.splitAttrs.listeners.value,onInput:C,onPaste:B,onChange:$,onBlur:I,onFocus:Zt};return S.onCompositionstart=S.onCompositionupdate=S.onCompositionend=N,p.value===!0&&(S.onKeydown=se,S.onClick=W),e.autogrow===!0&&(S.onAnimationend=x),S}),w=g(()=>{const S={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:Y.value,...ne.splitAttrs.attributes.value,id:ne.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return re.value===!1&&(S.type=e.type),e.autogrow===!0&&(S.rows=1),S});le(()=>e.type,()=>{v.value&&(v.value.value=e.modelValue)}),le(()=>e.modelValue,S=>{if(p.value===!0){if(f===!0&&(f=!1,String(S)===c))return;R(S)}else D.value!==S&&(D.value=S,e.type==="number"&&o.hasOwnProperty("value")===!0&&(u===!0?u=!1:delete o.value));e.autogrow===!0&&xe(k)}),le(()=>e.autogrow,S=>{S===!0?xe(k):v.value!==null&&n.rows>0&&(v.value.style.height="auto")}),le(()=>e.dense,()=>{e.autogrow===!0&&xe(k)});function M(){Wa(()=>{const S=document.activeElement;v.value!==null&&v.value!==S&&(S===null||S.id!==ne.targetUid.value)&&v.value.focus({preventScroll:!0})})}function y(){v.value!==null&&v.value.select()}function B(S){if(p.value===!0&&e.reverseFillMask!==!0){const L=S.target;T(L,L.selectionStart,L.selectionEnd)}t("paste",S)}function C(S){if(!S||!S.target)return;if(e.type==="file"){t("update:modelValue",S.target.files);return}const L=S.target.value;if(S.target.qComposing===!0){o.value=L;return}if(p.value===!0)R(L,!1,S.inputType);else if(b(L),he.value===!0&&S.target===document.activeElement){const{selectionStart:G,selectionEnd:ee}=S.target;G!==void 0&&ee!==void 0&&xe(()=>{S.target===document.activeElement&&L.indexOf(S.target.value)===0&&S.target.setSelectionRange(G,ee)})}e.autogrow===!0&&k()}function x(S){t("animationend",S),k()}function b(S,L){s=()=>{_=null,e.type!=="number"&&o.hasOwnProperty("value")===!0&&delete o.value,e.modelValue!==S&&c!==S&&(c=S,L===!0&&(f=!0),t("update:modelValue",S),xe(()=>{c===S&&(c=NaN)})),s=void 0},e.type==="number"&&(u=!0,o.value=S),e.debounce!==void 0?(_!==null&&clearTimeout(_),o.value=S,_=setTimeout(s,e.debounce)):s()}function k(){requestAnimationFrame(()=>{const S=v.value;if(S!==null){const L=S.parentNode.style,{scrollTop:G}=S,{overflowY:ee,maxHeight:X}=r.platform.is.firefox===!0?{}:window.getComputedStyle(S),ce=ee!==void 0&&ee!=="scroll";ce===!0&&(S.style.overflowY="hidden"),L.marginBottom=S.scrollHeight-1+"px",S.style.height="1px",S.style.height=S.scrollHeight+"px",ce===!0&&(S.style.overflowY=parseInt(X,10)<S.scrollHeight?"auto":"hidden"),L.marginBottom="",S.scrollTop=G}})}function $(S){N(S),_!==null&&(clearTimeout(_),_=null),s!==void 0&&s(),t("change",S.target.value)}function I(S){S!==void 0&&Zt(S),_!==null&&(clearTimeout(_),_=null),s!==void 0&&s(),u=!1,f=!1,delete o.value,e.type!=="file"&&setTimeout(()=>{v.value!==null&&(v.value.value=D.value!==void 0?D.value:"")})}function P(){return o.hasOwnProperty("value")===!0?o.value:D.value!==void 0?D.value:""}It(()=>{I()}),Et(()=>{e.autogrow===!0&&k()}),Object.assign(ne,{innerValue:D,fieldClass:g(()=>`q-${re.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:g(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:v,emitValue:b,hasValue:V,floatingLabel:g(()=>V.value===!0&&(e.type!=="number"||isNaN(D.value)===!1)||Nt(e.displayValue)),getControl:()=>m(re.value===!0?"textarea":"input",{ref:v,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...w.value,...q.value,...e.type!=="file"?{value:P()}:J.value}),getShadowControl:()=>m("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(re.value===!0?"":" text-no-wrap")},[m("span",{class:"invisible"},P()),m("span",e.shadowText)])});const E=Ka(ne);return Object.assign(l,{focus:M,select:y,getNativeElement:()=>v.value}),Ie(l,"nativeEl",()=>v.value),E}}),Wl=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Fa={exports:{}};(function(e,t){(function(n,l){e.exports=l()})(Wl,function(){var n=1e3,l=6e4,r=36e5,o="millisecond",c="second",u="minute",f="hour",_="day",s="week",v="month",Y="quarter",D="year",p="date",T="Invalid Date",R=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,se=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,W={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(C){var x=["th","st","nd","rd"],b=C%100;return"["+C+(x[(b-20)%10]||x[b]||x[0])+"]"}},J=function(C,x,b){var k=String(C);return!k||k.length>=x?C:""+Array(x+1-k.length).join(b)+C},V={s:J,z:function(C){var x=-C.utcOffset(),b=Math.abs(x),k=Math.floor(b/60),$=b%60;return(x<=0?"+":"-")+J(k,2,"0")+":"+J($,2,"0")},m:function C(x,b){if(x.date()<b.date())return-C(b,x);var k=12*(b.year()-x.year())+(b.month()-x.month()),$=x.clone().add(k,v),I=b-$<0,P=x.clone().add(k+(I?-1:1),v);return+(-(k+(b-$)/(I?$-P:P-$))||0)},a:function(C){return C<0?Math.ceil(C)||0:Math.floor(C)},p:function(C){return{M:v,y:D,w:s,d:_,D:p,h:f,m:u,s:c,ms:o,Q:Y}[C]||String(C||"").toLowerCase().replace(/s$/,"")},u:function(C){return C===void 0}},N="en",ne={};ne[N]=W;var re="$isDayjsObject",he=function(C){return C instanceof y||!(!C||!C[re])},q=function C(x,b,k){var $;if(!x)return N;if(typeof x=="string"){var I=x.toLowerCase();ne[I]&&($=I),b&&(ne[I]=b,$=I);var P=x.split("-");if(!$&&P.length>1)return C(P[0])}else{var E=x.name;ne[E]=x,$=E}return!k&&$&&(N=$),$||!k&&N},w=function(C,x){if(he(C))return C.clone();var b=typeof x=="object"?x:{};return b.date=C,b.args=arguments,new y(b)},M=V;M.l=q,M.i=he,M.w=function(C,x){return w(C,{locale:x.$L,utc:x.$u,x:x.$x,$offset:x.$offset})};var y=function(){function C(b){this.$L=q(b.locale,null,!0),this.parse(b),this.$x=this.$x||b.x||{},this[re]=!0}var x=C.prototype;return x.parse=function(b){this.$d=function(k){var $=k.date,I=k.utc;if($===null)return new Date(NaN);if(M.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var P=$.match(R);if(P){var E=P[2]-1||0,S=(P[7]||"0").substring(0,3);return I?new Date(Date.UTC(P[1],E,P[3]||1,P[4]||0,P[5]||0,P[6]||0,S)):new Date(P[1],E,P[3]||1,P[4]||0,P[5]||0,P[6]||0,S)}}return new Date($)}(b),this.init()},x.init=function(){var b=this.$d;this.$y=b.getFullYear(),this.$M=b.getMonth(),this.$D=b.getDate(),this.$W=b.getDay(),this.$H=b.getHours(),this.$m=b.getMinutes(),this.$s=b.getSeconds(),this.$ms=b.getMilliseconds()},x.$utils=function(){return M},x.isValid=function(){return this.$d.toString()!==T},x.isSame=function(b,k){var $=w(b);return this.startOf(k)<=$&&$<=this.endOf(k)},x.isAfter=function(b,k){return w(b)<this.startOf(k)},x.isBefore=function(b,k){return this.endOf(k)<w(b)},x.$g=function(b,k,$){return M.u(b)?this[k]:this.set($,b)},x.unix=function(){return Math.floor(this.valueOf()/1e3)},x.valueOf=function(){return this.$d.getTime()},x.startOf=function(b,k){var $=this,I=!!M.u(k)||k,P=M.p(b),E=function(fe,ve){var te=M.w($.$u?Date.UTC($.$y,ve,fe):new Date($.$y,ve,fe),$);return I?te:te.endOf(_)},S=function(fe,ve){return M.w($.toDate()[fe].apply($.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(ve)),$)},L=this.$W,G=this.$M,ee=this.$D,X="set"+(this.$u?"UTC":"");switch(P){case D:return I?E(1,0):E(31,11);case v:return I?E(1,G):E(0,G+1);case s:var ce=this.$locale().weekStart||0,Me=(L<ce?L+7:L)-ce;return E(I?ee-Me:ee+(6-Me),G);case _:case p:return S(X+"Hours",0);case f:return S(X+"Minutes",1);case u:return S(X+"Seconds",2);case c:return S(X+"Milliseconds",3);default:return this.clone()}},x.endOf=function(b){return this.startOf(b,!1)},x.$set=function(b,k){var $,I=M.p(b),P="set"+(this.$u?"UTC":""),E=($={},$[_]=P+"Date",$[p]=P+"Date",$[v]=P+"Month",$[D]=P+"FullYear",$[f]=P+"Hours",$[u]=P+"Minutes",$[c]=P+"Seconds",$[o]=P+"Milliseconds",$)[I],S=I===_?this.$D+(k-this.$W):k;if(I===v||I===D){var L=this.clone().set(p,1);L.$d[E](S),L.init(),this.$d=L.set(p,Math.min(this.$D,L.daysInMonth())).$d}else E&&this.$d[E](S);return this.init(),this},x.set=function(b,k){return this.clone().$set(b,k)},x.get=function(b){return this[M.p(b)]()},x.add=function(b,k){var $,I=this;b=Number(b);var P=M.p(k),E=function(G){var ee=w(I);return M.w(ee.date(ee.date()+Math.round(G*b)),I)};if(P===v)return this.set(v,this.$M+b);if(P===D)return this.set(D,this.$y+b);if(P===_)return E(1);if(P===s)return E(7);var S=($={},$[u]=l,$[f]=r,$[c]=n,$)[P]||1,L=this.$d.getTime()+b*S;return M.w(L,this)},x.subtract=function(b,k){return this.add(-1*b,k)},x.format=function(b){var k=this,$=this.$locale();if(!this.isValid())return $.invalidDate||T;var I=b||"YYYY-MM-DDTHH:mm:ssZ",P=M.z(this),E=this.$H,S=this.$m,L=this.$M,G=$.weekdays,ee=$.months,X=$.meridiem,ce=function(ve,te,de,we){return ve&&(ve[te]||ve(k,I))||de[te].slice(0,we)},Me=function(ve){return M.s(E%12||12,ve,"0")},fe=X||function(ve,te,de){var we=ve<12?"AM":"PM";return de?we.toLowerCase():we};return I.replace(se,function(ve,te){return te||function(de){switch(de){case"YY":return String(k.$y).slice(-2);case"YYYY":return M.s(k.$y,4,"0");case"M":return L+1;case"MM":return M.s(L+1,2,"0");case"MMM":return ce($.monthsShort,L,ee,3);case"MMMM":return ce(ee,L);case"D":return k.$D;case"DD":return M.s(k.$D,2,"0");case"d":return String(k.$W);case"dd":return ce($.weekdaysMin,k.$W,G,2);case"ddd":return ce($.weekdaysShort,k.$W,G,3);case"dddd":return G[k.$W];case"H":return String(E);case"HH":return M.s(E,2,"0");case"h":return Me(1);case"hh":return Me(2);case"a":return fe(E,S,!0);case"A":return fe(E,S,!1);case"m":return String(S);case"mm":return M.s(S,2,"0");case"s":return String(k.$s);case"ss":return M.s(k.$s,2,"0");case"SSS":return M.s(k.$ms,3,"0");case"Z":return P}return null}(ve)||P.replace(":","")})},x.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},x.diff=function(b,k,$){var I,P=this,E=M.p(k),S=w(b),L=(S.utcOffset()-this.utcOffset())*l,G=this-S,ee=function(){return M.m(P,S)};switch(E){case D:I=ee()/12;break;case v:I=ee();break;case Y:I=ee()/3;break;case s:I=(G-L)/6048e5;break;case _:I=(G-L)/864e5;break;case f:I=G/r;break;case u:I=G/l;break;case c:I=G/n;break;default:I=G}return $?I:M.a(I)},x.daysInMonth=function(){return this.endOf(v).$D},x.$locale=function(){return ne[this.$L]},x.locale=function(b,k){if(!b)return this.$L;var $=this.clone(),I=q(b,k,!0);return I&&($.$L=I),$},x.clone=function(){return M.w(this.$d,this)},x.toDate=function(){return new Date(this.valueOf())},x.toJSON=function(){return this.isValid()?this.toISOString():null},x.toISOString=function(){return this.$d.toISOString()},x.toString=function(){return this.$d.toUTCString()},C}(),B=y.prototype;return w.prototype=B,[["$ms",o],["$s",c],["$m",u],["$H",f],["$W",_],["$M",v],["$y",D],["$D",p]].forEach(function(C){B[C[1]]=function(x){return this.$g(x,C[0],C[1])}}),w.extend=function(C,x){return C.$i||(C(x,y,w),C.$i=!0),w},w.locale=q,w.isDayjs=he,w.unix=function(C){return w(1e3*C)},w.en=ne[N],w.Ls=ne,w.p={},w})})(Fa);var Jl=Fa.exports;const Xl={class:"row no-wrap justify-start full-width"},Gl={class:"row items-center justify-end"},er={class:"row items-center justify-end"},va="####-##-##",at="YYYY-MM-DD",tr=Ma({__name:"DatePeriodInput",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,l=D=>D?la.formatDate(D,at):"",r=Xa("modelValue",n,t),o=K(null),c=K(l(r.value.from)),u=K(l(r.value.to));le(c,D=>{var p;r.value.from=D,(p=o.value)==null||p.validate()}),le(u,D=>{r.value.to=D});const f=D=>Jl(D,at,!0).isValid()||"Date is invalid",_=D=>!!D||"Field required",s=(D,p=at)=>la.extractDate(D,p).getTime()/1e3,v=[D=>!D||f(D)||"Invalid date",D=>!D||c.value&&s(c.value)<s(D)||"End date is before the start date"],Y=[f,_];return(D,p)=>(nt(),Vt("div",Xl,[ge(bt(fa),{modelValue:c.value,"onUpdate:modelValue":p[1]||(p[1]=T=>c.value=T),outlined:"",dense:"",mask:va,rules:Y,label:"From","hide-bottom-space":"",class:"col"},{append:ke(()=>[ge(ze,{name:"calendar_month",color:"grey-6",class:"cursor-pointer"},{default:ke(()=>[ge(ia,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:ke(()=>[ge(oa,{modelValue:c.value,"onUpdate:modelValue":p[0]||(p[0]=T=>c.value=T),mask:at},{default:ke(()=>[wt("div",Gl,[Kt(ge(be,{label:"Close",color:"primary",flat:""},null,512),[[sa]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ge(ze,{color:"grey-5",class:"text-h6 q-py-sm q-mx-md",name:"arrow_forward"}),ge(bt(fa),{ref_key:"lastDateRef",ref:o,modelValue:u.value,"onUpdate:modelValue":p[3]||(p[3]=T=>u.value=T),outlined:"",dense:"",mask:va,label:"To","hide-bottom-space":"",rules:v,class:"col"},{append:ke(()=>[ge(ze,{name:"calendar_month",color:"grey-6",class:"cursor-pointer"},{default:ke(()=>[ge(ia,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:ke(()=>[ge(oa,{modelValue:u.value,"onUpdate:modelValue":p[2]||(p[2]=T=>u.value=T),mask:at},{default:ke(()=>[wt("div",er,[Kt(ge(be,{label:"Close",color:"primary",flat:""},null,512),[[sa]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),ar=K([{name:"name",required:!0,label:"Currency",align:"left",field:e=>e.name,sortable:!0},{name:"max",required:!0,label:"Max",field:"max",align:"left"},{name:"min",required:!0,label:"Min",field:"min",align:"left"},{name:"mean",required:!0,label:"Mean",field:"mean",align:"left"},{name:"std",required:!0,label:"Standard deviation",field:"std",align:"left"},{name:"disp",required:!0,label:"Dispersion",field:"disp",align:"left"}]),nr=e=>{const t=Math.max(...e),n=Math.min(...e),l=e.reduce((c,u)=>c+u,0)/e.length,r=e.reduce((c,u)=>{const f=u-l;return c+f*f},0)/e.length,o=Math.sqrt(r);return{max:t,min:n,std:o,mean:l,disp:r}};const lr=wt("div",{class:"text-h6 q-mb-md"},"Currency pair",-1),rr=wt("div",{class:"text-h6 q-mt-lg q-mb-md"},"Time period",-1),or={key:0,class:"preloader__container row justify-center"},ir={key:1,class:"full-width row full-width q-mt-lg"},gr=Ma({__name:"RatesOverTimePage",setup(e){Ga.register(en,tn,an,nn,ln,rn,on,un,sn);const t=K(null),n=K([]),l=K(null),r={responsive:!0},o=K({}),c=K([]),u=s=>{var Y;return{labels:Object.keys(s.rates),datasets:(Y=n.value)==null?void 0:Y.map(D=>D.id).map(D=>({label:D,backgroundColor:bn(D),data:Object.values(s.rates).map(p=>p[D])}))}},f=K(!1),_=cn();return le([t,n,o],async([s,v,Y])=>{if(!(!s||!v||!v.length||!Y.from))try{f.value=!0,console.log(o.value);const D=await fn.getItems({period:o.value,from:s.id,to:v.map(p=>p.id)});l.value=u(D),c.value=l.value.datasets.map(p=>({name:p.label,...nr(p.data)})),console.log(D)}catch{_.notify({type:"negative",message:"Error loading rates"})}finally{f.value=!1}},{immediate:!0,deep:!0}),(s,v)=>(nt(),Wt(dn,{padding:"",class:"q-gutter-y-md"},{default:ke(()=>[ge(mn,{class:"column"},{default:ke(()=>[lr,ge(vn,{"base-currency":t.value,"onUpdate:baseCurrency":v[0]||(v[0]=Y=>t.value=Y),"quote-currencies":n.value,"onUpdate:quoteCurrencies":v[1]||(v[1]=Y=>n.value=Y)},null,8,["base-currency","quote-currencies"]),rr,ge(tr,{modelValue:o.value,"onUpdate:modelValue":v[2]||(v[2]=Y=>o.value=Y),class:"row items-start justify-start full-width col"},null,8,["modelValue"])]),_:1}),f.value?(nt(),Vt("div",or,[ge(hn,{indeterminate:"",size:"90px",thickness:.2,color:"pink","track-color":"transparent",class:"q-ma-md"})])):l.value&&t.value&&n.value&&n.value.length?(nt(),Vt("div",ir,[ge(bt(gn),{data:l.value,options:r},null,8,["data"]),ge(vl,{title:"Statistics",rows:c.value,columns:bt(ar),"row-key":"name",flat:"",class:"full-width q-mt-md"},null,8,["rows","columns"])])):(nt(),Wt(yn,{key:2,class:"q-mt-xl"}))]),_:1}))}});export{gr as default};
